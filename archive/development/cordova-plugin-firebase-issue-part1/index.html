<!doctype html>
<html data-n-head-ssr data-n-head="">
  <head data-n-head="">
    <title data-n-head="true">Hunni.Devteam</title><meta data-n-head="true" charset="utf-8"><meta data-n-head="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="true" data-hid="description" name="description" content="Software Engineer, Hun Kang's Personal Blog"><link data-n-head="true" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/7ccbfe27e8f61ef9be1e.js" as="script"><link rel="preload" href="/_nuxt/699ac235b5a7295b4c5d.js" as="script"><link rel="preload" href="/_nuxt/de3fcad20eed6159d31a.js" as="script"><link rel="preload" href="/_nuxt/db66437d587c82d09d81.js" as="script"><link rel="preload" href="/_nuxt/0a042519357e71d7ac5c.js" as="script"><link rel="preload" href="/_nuxt/eb6450c9a7aae5178f0c.js" as="script"><style data-vue-ssr-id="17cfdfa9:0 132df51d:0 12d4cb96:0">.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#333;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}*{letter-spacing:-.12px}ol,ul{list-style:none;margin:0;padding:0}article,aside,div,footer,header,main,nav,section{position:relative;box-sizing:border-box}#layout{display:flex;min-height:100vh}#disqus_thread{padding:32px}.splash{position:fixed;left:0;top:0;z-index:10;width:100%;height:100%;background-color:#2c2c2c;display:flex;justify-content:center;align-items:center}.splash.inactive{display:none}.page-content-wrapper{flex:1;background-color:#e9e9e9}.bg-white{background-color:#fff}.article-viewer{margin:24px}.article-viewer .tui-editor-contents{color:#333}.article-viewer .tui-editor-contents h1{font-weight:400;line-height:48px;border-bottom-width:2px;border-bottom-style:solid}.article-viewer .tui-editor-contents p{color:#333}nav.main-navigation{width:320px;background-color:#292929}nav.main-navigation li span{cursor:pointer}</style>
  </head>
  <body data-n-head="">
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="layout"><div class="splash inactive"><div style="width:100%;height:50px"><div style="display:inline-block;color:#fff;font-size:42px">Hunni.Devteam</div></div></div> <nav class="main-navigation" style="display:flex;flex-direction:column;justify-content:center;align-items:center"><div style="color:#f9f9f9;text-align:center;margin-bottom:56px;margin-top:48px"><div style="display:inline-block;margin-bottom:8px;font-size:30px;letter-spacing:.12px;cursor:pointer">Hunni.Devteam</div><br> <span class="catchphrase" style="font-size:17px;color:#d9d9d9">Own the day, own your life</span></div> <ul style="margin-bottom:56px;font-size:18px;color:#e9e9e9;width:100%"><li style="line-height:48px;margin:0 56px"><span>About</span></li> <li style="line-height:48px;margin:0 56px"><span>Development Archive</span> <ul style="line-height:28px;font-size:14px;color:#b9b9b9"><li><span>- Web Frontend</span></li> <li><span>- Web Backend</span></li> <li><span>- API Document</span></li> <li><span>- Algorithm</span></li> <li><span>- Development Tip</span></li> <li><span>- Language Spec</span></li> <li><span>- Issues</span></li> <li><span>- DevOps</span></li></ul></li> <li style="line-height:48px;margin:0 56px">Life Archive</li> <li style="line-height:48px;margin:0 56px">Resume</li></ul> <div style="color:#9c9c9c;font-size:18px">Twitter / Facebook / Google</div> <div style="flex:1"></div></nav> <div class="page-content-wrapper"><div><div style="height:48px;line-height:48px;background-color:#fff;margin:0 0 24px 0;padding:0 24px"><span><span>home</span></span><span><span><span> / </span> <span></span></span></span></div> <div class="bg-white" style="margin:0 24px 24px 24px"><article><div><div id="title" style="height:320px;background-position:center;background-size:cover;background-image:url(/disqus-cover.png)"></div></div> <div class="article-viewer">
          2019년 7월 15일 월요일 오전 8:54 작성
          <tui-viewer value="
# cordova-plugin-firebase 오류 기록 - Part 1

**2편에서 오류 해결방법과 원인을 다룹니다.**
Cordova Plugin은 Android / iOS 등의 모바일 OS API를 자바스크립트로 호출할 수 있도록 돕는 인터페이스를 제공합니다.
따라서 OS 업데이트로 인한 주요 API 변경이나, 플러그인 간 의존성 충돌로 오류가 생기는 경우가 잦습니다.
이 글은 cordova-plugin-firebase 플러그인 이슈를 다룹니다.

에러 메시지 및 추적 내용
-
Execution failed for task ':app:processReleaseResources'.
> Failed to execute aapt

> org.gradle.internal.exceptions.LocationAwareException

> \platforms\android\app\libs', not found file or directory

> cannot find symbol
import android.support.v4.app.NotificationManagerCompat;

1. Target SDK 27일 때 aapt 오류 발생
2. Target SDK 28로 변경 후 NotificationManagerCompat 못 찾는 오류 발생
3. Cordova CLI 및 Android 플랫폼 다운그레이드 후 같은 오류 발생
4. Android Studio에서 직접 빌드 실패
5. Cordova Platform 삭제 - cordova-plugin-firebase 삭제 후 Platform만 재설치
6. 빌드 성공
7. cordova-plugin-firebase 재설치 후 빌드 실패
8. cordova-plugin-firebase 삭제 후 Clean Build 확보.

개발 환경
-
[CLI] cordova@7^ / cordova@8^
[Platform] cordova-android@7^ / cordova-android@8^(Latest)  


임시 조치
-
Firebase Plugin 삭제 후 빌드 환경부터 정상화하고,
나머지 기능부터 개발하기로 했습니다.
```
' 삭제
cordova platform rm android --force
cordova plugin rm cordova-plugin-firebase --force
' 재설치
cordova platform add android@latest (190621 기준 8.0.0)
' 빌드
cordova run android
```

유효하지 않았던 조치
-
build.gradle 
> defaultTargetSdkVersion 27 => 28 변경
> defaultCompileSdkVersion 27 => 28 변경
> defaultBuildToolsVersion 27.0.3 => 28.0.3 변경

app/src/main/AndroidManifest.xml
> TargetSDKVersion 27 => 28 변경

project.properties 
> target android-27 => android-28 변경

cordovaLib/project.properties
> target android-27 => android-28 변경

etc...

회고
-
플러그인 의존성 터지면 하루가 날아갑니다.
진행 중인 프로젝트의 개발 일정이 상당히 촉박해서 디버깅에 많은 신경을 쓸 수 없는 상태였습니다.
따라서 빠르게 대처하려다 더 많은 오류가 발생해, 정상적인 테스트 환경을 확보하는 데에 어려움을 겪었습니다.

개선안
-
- ~~플러그인 잘 찾아 씁시다 ㅜㅜ~~
- 비슷한 문제가 발생했을 때 바로 대처할 수 있도록 **디버그 로그 작성 및 공유를 습관화**합시다.
- 당황해도 디버깅 속도가 느는 건 아니므로 **차분하게 차 한잔 마시고 조치내역을 기록**합시다.
"></tui-viewer></div></article> <section src="https://hunni-devteam-1.disqus.com/embed.js"><div id="disqus_thread"></div> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></section></div></div></div></div></div></div><script>window.__NUXT__=function(e,a,t,r,i,o,s,c,d,n,l){return{layout:"default",data:[{},{}],error:null,state:{pageShortcuts:[{created_at:"2019-05-20 03:30:00",title:n,description:n,tags:["disqus","blog-development"],src:"/archive/development/disqus-comment-test",image:i},{created_at:"2019-05-23 21:30:00",title:"Laravel 쿼리 빌더 사용으로 인한 MSSQL 성능 이슈",description:"컬럼 타입 강제 캐스팅으로 인해 인덱스를 타지 않았다.",tags:[t,"web-backend","laravel","perfomance",r],src:"/archive/development/laravel-query-builder-causes-mssql-perfomance-issue",image:e},{created_at:d,title:"Cordova-Based SPA에 핫 리로딩 적용하기",description:"config.xml - content 태그 값 변경으로 손쉽게 적용할 수 있어요.",tags:[t,o,a,s,c],src:"/archive/development/usage-of-cordova-remote-page-content",image:e},{created_at:d,title:"Cordova + Vue.js 연동하기",description:"Vue CLI 3 너무 편해요!",tags:[t,o,a,s,c],src:"/archive/development/use-cordova-with-vue-cli-3",image:e},{created_at:"2019-07-07 15:40:00",title:"Vuex, 커링, 클로저.",description:"알게 모르게 써오던 개념 정리",tags:[o,s,c,"ES6","functional-programming"],src:"/archive/development/vuex-currying-closure",image:e},{created_at:"2019-07-15 08:54:00",title:"cordova-plugin-firebase 오류 기록 - Part 1",description:"플랫폼 의존적인 플러그인 오류 분석(실패)..",tags:[a,l,r],src:"/archive/development/cordova-plugin-firebase-issue-part1",image:i},{created_at:"2019-07-15 08:57:00",title:"cordova-plugin-firebase 오류 기록 - Part 2",description:"오류 내용 분석과 조치 방법 정리",tags:[a,l,r],src:"/archive/development/cordova-plugin-firebase-issue-part2",image:i}]},serverRendered:!0}}("/laravel-logo.png","cordova","draft","issue","/disqus-cover.png","web-frontend","vue","development-tip","2019-05-24 18:00:00","Disqus 연동 테스트","android")</script><script src="/_nuxt/7ccbfe27e8f61ef9be1e.js" defer></script><script src="/_nuxt/0a042519357e71d7ac5c.js" defer></script><script src="/_nuxt/eb6450c9a7aae5178f0c.js" defer></script><script src="/_nuxt/699ac235b5a7295b4c5d.js" defer></script><script src="/_nuxt/de3fcad20eed6159d31a.js" defer></script><script src="/_nuxt/db66437d587c82d09d81.js" defer></script>
  </body>
</html>
