<!doctype html>
<html data-n-head-ssr lang="ko" data-n-head="lang">
  <head data-n-head="">
    <title data-n-head="true">Hunni.Devteam</title><meta data-n-head="true" charset="utf-8"><meta data-n-head="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="true" data-hid="description" name="description" content="Software Engineer, Hun Kang's Personal Blog"><meta data-n-head="true" data-hid="" name="Hunni.Devteam" content="Software Engineer, Hun Kang's Personal Blog"><link data-n-head="true" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/f2fe9d14d40f8aa54914.js" as="script"><link rel="preload" href="/_nuxt/c2843045fdd10a7582d3.js" as="script"><link rel="preload" href="/_nuxt/cebfb058a34931a29b2a.js" as="script"><link rel="preload" href="/_nuxt/3f164e8b628123e20c5e.js" as="script"><link rel="preload" href="/_nuxt/b878e79f9c80408defaf.js" as="script"><link rel="preload" href="/_nuxt/ce18cc2cc3af183bcfc3.js" as="script"><style data-vue-ssr-id="17cfdfa9:0 132df51d:0 0fb8f0ac:0 0fb8f0ac:1 12d4cb96:0 23bf5efc:0">.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#333;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}*{letter-spacing:-.12px}ol,ul{list-style:none;margin:0;padding:0}article,aside,div,footer,header,main,nav,section{position:relative;box-sizing:border-box}#layout{display:flex;min-height:100vh}#disqus_thread{padding:32px}.splash{position:fixed;left:0;top:0;z-index:10;width:100%;height:100%;background-color:#2c2c2c;display:flex;justify-content:center;align-items:center}.splash.inactive{display:none}.page-content-wrapper{flex:1;background-color:#e9e9e9}.container{margin:24px}.bg-white{background-color:#fff}.article-viewer{margin:24px}.article-viewer .tui-editor-contents{color:#333}.article-viewer .tui-editor-contents h1{font-weight:400;line-height:48px;border-bottom-width:2px;border-bottom-style:solid}.article-viewer .tui-editor-contents p{color:#333;font-size:14px}.fade-enter-active,.fade-leave-active{transition:opacity .36s ease}.fade-enter,.fade-leave-to{opacity:0}#intro{z-index:10;position:fixed;left:0;top:0;width:100%;height:100%;display:flex;font-family:Nanum Myeongjo,serif;background-color:#333;color:#fff;transition:.48s ease-in-out;opacity:1}#intro.inactive{opacity:0}#intro .vertical-typography{width:64px;text-align:center}#intro .vertical-typography .text{opacity:0;-webkit-transform:translateY(-2px);transform:translateY(-2px);transition:.48s ease-in-out}#intro .vertical-typography .text.active{opacity:1;-webkit-transform:none;transform:none}nav.main-navigation{width:320px;background-color:#292929}nav.main-navigation li span{cursor:pointer}.article-wrapper{background-color:#fff;margin:0 24px 24px}</style>
  </head>
  <body data-n-head="">
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="layout"><section id="intro"><div style="flex:1;display:flex;justify-content:center;align-items:center"><div><div style="display:flex;justify-content:center;font-size:48px;line-height:64px;margin-bottom:16px"><div class="vertical-typography"><div class="text" style="display:flex;justify-content:center">|</div> <div class="text">즐</div> <div class="text">거</div> <div class="text">움</div></div> <div class="vertical-typography"><div class="text">기</div> <div class="text">록</div> <div class="text">하</div> <div class="text">는</div></div></div> <div style="text-align:right;margin-bottom:48px;text-orientation:upright"><div><span style="font-size:16px;font-family:'Malgun Gothic',sans-serif">Technical Experiences Archive</span></div> <div><span style="font-family:'Malgun Gothic',sans-serif">by</span><b> Hun Kang</b></div></div></div></div></section> <nav class="main-navigation" style="display:flex;flex-direction:column;justify-content:center;align-items:center"><div style="color:#f9f9f9;text-align:center;margin-bottom:56px;margin-top:48px"><div style="display:inline-block;margin-bottom:8px;font-size:30px;letter-spacing:.12px;cursor:pointer">Hunni.Devteam</div><br> <span class="catchphrase" style="font-size:17px;color:#d9d9d9">Own the day, own your life</span></div> <ul style="margin-bottom:56px;font-size:18px;color:#e9e9e9;width:100%"><li style="line-height:48px;margin:0 56px"><span>About</span></li> <li style="line-height:48px;margin:0 56px"><span>Articles</span></li></ul> <div style="flex:1"></div></nav> <div class="page-content-wrapper"><div style="height:48px;line-height:48px;background-color:#fff;margin:0 0 24px 0;padding:0 24px"><span><span>home</span></span><span><span><span> / </span> <span></span></span></span></div> <article class="article-wrapper"><div><div id="title" style="height:320px;background-position:center;background-size:cover;background-image:url(/laravel-logo.png)"></div> <b>2019-07-07</b></div> <div class="article-viewer"><tui-viewer value="
# Vuex, 커링, 클로저.
Vuex로 원하는 기능을 구현하면서, 알게 모르게 써오던 개념들을 정리하기 위해 적게 되었습니다.

사실 아래 예제가 잘 안 읽혀서 적었습니다(...)
주석은 해당 예제를 ES5로 풀어 쓴 코드입니다.
```javascript
getters: {
  /*
    // getTodoById: function(state, id) {} 를 커링  
    getTodoById: function(state) {
      return function (id) {
        // 클로저 - 부모 스코프 매개변수를 끌고 옴
        return state.todos.find(todo => todo.id === id)
      }
  }
  */
  getTodoById: (state) => (id) => {
    return state.todos.find(todo => todo.id === id)
  }
}
```
위 예제에서 다루는 커링과 클로저가 이번 글의 핵심 내용입니다.


## 클로저
Vuex Getter에 인자를 넘겨 conditional 하게 state 를 가져올 때 **부모 스코프의 매개변수를 참조**하면서 **클로저**를 사용하게 됩니다.

## 커링
수학과 컴퓨터 과학에서 커링이란, **다중 인수를 갖는 함수를 단일 인수를 갖는 함수들의 함수열로 바꾸는 것**이라고 합니다.

두 개의 인수가 한 번에 들어오지 않을 때(코루틴? 의존성 주입?) 유용하게 쓸 수 있습니다.

아래 예제에서 커링과 클로저를 어떻게 활용하는 지 확인해 봅시다.

## 예시
```javascript
// 작성된 getters (Vuex Module)
getters: {
  getTodoById: (state) => (id) => {
    return state.todos.find(todo => todo.id === id)
  }
}
// Vuex 내부 동작 (Getter 인자에 Vuex Store의 state 속성 주입)
// 위 예제로 대입하면, prop = 'findStoreByStoreId'
Store.getters[prop] = Store.state.getters[prop](Vuex.store.state)
```

Vuex 공식 문서의 예제입니다.
todo를 todoId로 찾는 Getter 함수를 작성했네요.

예시를 보면, (state, testId) 두 개의 파라미터를 동시에 입력받지 않고
**Vuex에서 state를 먼저 주입**받기 위해
getters.test() 의 첫 호출 시에는 state만 매개변수로 받아
**storeId 를 인자로 받고, 클로저 변수인 state를 가진 함수로 커링**하고 있습니다.

예제 아래의 주석은 Vuex에서 state 속성을 주입하는 방식을 예상해 적어봤습니다.
(Vuex Getter 주입 소스를 뜯어본 건 아니라 정확하지 않아요)

## 회고
화살표 함수를 두 개 이어놓은 문법을 보고 처음에 뇌정지가 온 게 화근이었습니다.
글을 쓰면서 함수형 프로그래밍 기법을 어떻게 활용하고 있었는 지 돌아볼 수 있었어요.
기회가 된다면 실무에서 Map / Filter / Reduce 등의 함수형 프로그래밍 인터페이스를 어떻게 활용하는 지 다뤄보고 싶네요 :)

> ex) conditional 하게 state 를 가져올 때

본문에 위처럼 영단어를 난잡하게 섞어 써서 가독성이 떨어질 것 같습니다.
한글로 더 깔끔하게 작성할 수 있었으면 좋겠어요.


## 참고 자료
[https://vuex.vuejs.org/guide/getters.html#method-style-access](https://vuex.vuejs.org/guide/getters.html#method-style-access)
  "></tui-viewer></div> <section src="https://hunni-devteam-1.disqus.com/embed.js"><div id="disqus_thread" style="min-height:480px"></div> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></section></article> <div id="post-navigator"><div id="article-navigator" class="container" style="display:flex"><!----> <div style="flex:1;margin:0 4px"></div> <!----></div></div></div></div></div></div><script>window.__NUXT__=function(e,t,a,r,i,o,s,c,d,n,l){return{layout:"default",data:[{},{}],error:null,state:{pageShortcuts:[{created_at:"2019-05-20 03:30:00",title:n,description:n,tags:[t,"disqus","blog-development"],src:"/article/development/disqus-comment-test",image:e},{created_at:"2019-05-23 21:30:00",title:"Laravel 쿼리 빌더 사용으로 인한 MSSQL 성능 이슈",description:"컬럼 타입 강제 캐스팅으로 인해 인덱스를 타지 않았다.",tags:[r,t,"web-backend","laravel","perfomance",i],src:"/article/development/laravel-query-builder-causes-mssql-perfomance-issue",image:e},{created_at:d,title:"Cordova-Based SPA에 핫 리로딩 적용하기",description:"config.xml - content 태그 값 변경으로 손쉽게 적용할 수 있어요.",tags:[r,t,o,a,s,c],src:"/article/development/usage-of-cordova-remote-page-content",image:e},{created_at:d,title:"Cordova + Vue.js 연동하기",description:"Vue CLI 3 너무 편해요!",tags:[r,t,o,a,s,c],src:"/article/development/use-cordova-with-vue-cli-3",image:e},{created_at:"2019-07-07 15:40:00",title:"Vuex, 커링, 클로저.",description:"알게 모르게 써오던 개념 정리",tags:[t,o,s,c,"ES6","functional-programming"],src:"/article/development/vuex-currying-closure",image:e},{created_at:"2019-07-15 08:54:00",title:"cordova-plugin-firebase 오류 기록 - Part 1",description:"플랫폼 의존적인 플러그인 오류 분석(실패)..",tags:[t,a,l,i],src:"/article/development/cordova-plugin-firebase-issue-part1",image:e},{created_at:"2019-07-15 08:57:00",title:"cordova-plugin-firebase 오류 기록 - Part 2",description:"오류 내용 분석과 조치 방법 정리",tags:[t,a,l,i],src:"/article/development/cordova-plugin-firebase-issue-part2",image:e}],currentPage:{},nextPage:{},prevPage:{}},serverRendered:!0}}("/disqus-cover.png","development","cordova","draft","issue","web-frontend","vue","tip","2019-05-24 18:00:00","Disqus 연동 테스트","android")</script><script src="/_nuxt/f2fe9d14d40f8aa54914.js" defer></script><script src="/_nuxt/b878e79f9c80408defaf.js" defer></script><script src="/_nuxt/ce18cc2cc3af183bcfc3.js" defer></script><script src="/_nuxt/c2843045fdd10a7582d3.js" defer></script><script src="/_nuxt/cebfb058a34931a29b2a.js" defer></script><script src="/_nuxt/3f164e8b628123e20c5e.js" defer></script>
  </body>
</html>
